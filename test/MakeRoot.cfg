process PROD  = {
	untracked PSet maxEvents = {untracked int32 input = 20}
	source = EmptySource { }

	module m1 = StreamThingProducer {
	 int32 array_size = 2 # 20000 
	 int32 instance_count=5
	}

	module a1 = StreamThingAnalyzer { string product_to_get="m1" }

        module outp = PoolOutputModule {
           untracked string fileName = "myout.root"
        }


	module outs = StreamTestConsumer {
	  int32 max_event_size = 2000000
	  int32 max_queue_depth = 5

	  PSet consumer_config = {
		string fileName = "myout.dat"
	  }
	}

        path p1 = { m1, a1, outp }
}
