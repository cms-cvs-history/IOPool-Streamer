
process COPY = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  untracked PSet options = 
  {
    untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
  }

  source = PoolSource
  {
    untracked vstring fileNames = {'file:myout.root'}
    untracked int32 maxEvents = -1
  }

  module a1 = StreamThingAnalyzer { string product_to_get="m1" }


  module out = EventStreamFileWriter
  {
    int32 max_event_size = 7000000
    int32 max_queue_depth = 5
    bool use_compression = true
    int32 compression_level = 1

    string fileName = "teststreamfile_copy.dat"
    string indexFileName = "testindexfile_copy.ind"
    // untracked int32 numPerFile = 5

  }

  module outp = PoolOutputModule
  {
    untracked string fileName = "myout2.root"
  }

  path p = { a1 }
  endpath e = { out, outp }


}

