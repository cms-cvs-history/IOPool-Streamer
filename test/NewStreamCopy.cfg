
process COPY = {
  untracked PSet maxEvents = {untracked int32 input = -1}
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  untracked PSet options = {
    untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
  }

  source = PoolSource {
    untracked vstring fileNames = {'file:myout.root'}
  }

  module a1 = StreamThingAnalyzer { string product_to_get="m1" }


  module out = EventStreamFileWriter {
    untracked int32 max_event_size = 7000000
    //int32 max_queue_depth = 5
    untracked bool use_compression = true
    untracked int32 compression_level = 1

    untracked string fileName = "teststreamfile_copy.dat"
    untracked string indexFileName = "testindexfile_copy.ind"
    // untracked int32 numPerFile = 5

  }

  module outp = PoolOutputModule {
    untracked string fileName = "myout2.root"
  }

  path p = { a1 }
  endpath e = { out, outp }


}

