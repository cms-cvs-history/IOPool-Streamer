
process PROD  =
{
	source = EmptyInputService
	{
	  untracked int32 maxEvents = 20
	}

	module m1 = StreamThingProducer { int32 array_size = 20000 }
	module m2 = StreamThingProducer { int32 array_size = 20000 }
	module m3 = StreamThingProducer { int32 array_size = 20000 }
	module m4 = StreamThingProducer { int32 array_size = 20000 }
	module m5 = StreamThingProducer { int32 array_size = 20000 }

	module a1 = StreamThingAnalyzer { string product_to_get="m1" }
	module a2 = StreamThingAnalyzer { string product_to_get="m2" }
	module a3 = StreamThingAnalyzer { string product_to_get="m3" }
	module a4 = StreamThingAnalyzer { string product_to_get="m4" }
	module a5 = StreamThingAnalyzer { string product_to_get="m5" }

	module out = StreamTestConsumer
	{
	  int32 max_event_size = 2000000
	  int32 max_queue_depth = 5

	  PSet consumer_config = 
	  {
		string fileName = "myout.dat"
	  }
	}

        path p1 = { m1,m2,m3,m4,m5, a1,a2,a3,a4,a5, out }
}
