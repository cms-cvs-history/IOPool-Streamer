
process PROD = {

        source = PoolSource
        {
                untracked string fileName = 'myout.root'
                untracked int32 maxEvents = -1
        }

	module a1 = StreamThingAnalyzer { string product_to_get="m1" }

     module m1 = StreamThingProducer
	          {
			      int32 array_size = 2 # 20000 
			       int32 instance_count=1
			            untracked int32 start_count = 40
			       }


        module out = StreamTestConsumer
        {
          int32 max_event_size = 2000000
          int32 max_queue_depth = 5

          PSet consumer_config = 
          {
                string fileName = "myout_copy.dat"
          }
        }

         module outp = PoolOutputModule
         {
           untracked string fileName = "myout2.root"
         }

        #path p = { m1, a1, out, outp }
        path p = { a1, out, outp }


}

