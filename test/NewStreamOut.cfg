process HLT  = {
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    untracked PSet maxEvents = {untracked int32 input = 50}
    untracked PSet options = {
      untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
    }

    source = EmptySource {}

    module m1 = StreamThingProducer {
      int32 array_size = 2 # 20000 
      int32 instance_count=5
    }

    module a1 = StreamThingAnalyzer { string product_to_get="m1" }

    module out = EventStreamFileWriter {
      untracked int32 max_event_size = 7000000
      untracked bool use_compression = true
      untracked int32 compression_level = 1

      untracked string fileName = "teststreamfile.dat"
      untracked string indexFileName = "testindexfile.ind"
      #  untracked int32 numPerFile = 5	  
    }

    path p1 = { m1, a1 }
    endpath end = { out }
  }
